# ç”µå•†ç®¡ç†ç³»ç»Ÿ - å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸ¯ ç³»ç»Ÿè¯´æ˜

æœ¬ç³»ç»Ÿå®ç°äº†å®Œæ•´çš„ç”µå•†åå°ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š
- **Appç”¨æˆ·ç®¡ç†** - ç”¨æˆ·ä¿¡æ¯ã€ä½™é¢ç§¯åˆ†ã€æ ‡ç­¾åˆ†ç»„
- **å•†å“ç®¡ç†** - å•†å“CRUDã€SKUç®¡ç†ã€åˆ†ç±»ç®¡ç†
- **è®¢å•ç®¡ç†** - è®¢å•æµç¨‹ã€å‘è´§é€€æ¬¾ã€æ•°æ®ç»Ÿè®¡

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

- Node.js >= 18.x
- MySQL >= 8.0
- pnpm >= 8.x

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…é¡¹ç›®ä¾èµ–
pnpm install
```

### 2. æ•°æ®åº“é…ç½®

ç¡®ä¿ MySQL æœåŠ¡å·²å¯åŠ¨ï¼Œç„¶åé…ç½®æ•°æ®åº“è¿æ¥ï¼š

```bash
# apps/server/.env
DATABASE_URL="mysql://root:password@localhost:3306/admin_system"
```

### 3. åˆå§‹åŒ–æ•°æ®åº“

```bash
cd apps/server

# åŒæ­¥æ•°æ®åº“ç»“æ„
npx prisma db push

# æŸ¥çœ‹æ•°æ®åº“ï¼ˆå¯é€‰ï¼‰
npx prisma studio
```

### 4. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd apps/server
npm run dev
```

åç«¯æœåŠ¡è¿è¡Œåœ¨ï¼šhttp://localhost:3000

### 5. å¯åŠ¨å‰ç«¯æœåŠ¡

æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼š

```bash
cd apps/admin
npm run dev
```

å‰ç«¯æœåŠ¡è¿è¡Œåœ¨ï¼šhttp://localhost:5173

### 6. ç™»å½•ç³»ç»Ÿ

ä½¿ç”¨é»˜è®¤ç®¡ç†å‘˜è´¦å·ç™»å½•ï¼š
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`123456`

## ğŸ“ ä¸»è¦åŠŸèƒ½è·¯ç”±

ç™»å½•åå¯è®¿é—®ä»¥ä¸‹åŠŸèƒ½ï¼š

| åŠŸèƒ½ | è·¯ç”± | è¯´æ˜ |
|------|------|------|
| é¦–é¡µ | `/home` | ç³»ç»Ÿé¦–é¡µ |
| Appç”¨æˆ·ç®¡ç† | `/app-user` | ç®¡ç†Appç«¯ç”¨æˆ· |
| å•†å“ç®¡ç† | `/product` | å•†å“åˆ—è¡¨å’Œç®¡ç† |
| è®¢å•ç®¡ç† | `/order` | è®¢å•å¤„ç†å’Œç»Ÿè®¡ |

## ğŸ”§ API æ¥å£è¯´æ˜

### Appç”¨æˆ·ç®¡ç† API

```
GET    /api/admin/app-user/list          # ç”¨æˆ·åˆ—è¡¨
GET    /api/admin/app-user/:id            # ç”¨æˆ·è¯¦æƒ…
PUT    /api/admin/app-user/:id            # æ›´æ–°ç”¨æˆ·
PUT    /api/admin/app-user/:id/status     # æ›´æ–°çŠ¶æ€
POST   /api/admin/app-user/adjust-balance # è°ƒæ•´ä½™é¢
```

### å•†å“ç®¡ç† API

```
GET    /api/admin/product/list          # å•†å“åˆ—è¡¨
POST   /api/admin/product               # åˆ›å»ºå•†å“
GET    /api/admin/product/:id           # å•†å“è¯¦æƒ…
PUT    /api/admin/product/:id           # æ›´æ–°å•†å“
DELETE /api/admin/product/:id           # åˆ é™¤å•†å“
GET    /api/admin/category/tree         # åˆ†ç±»æ ‘
```

### è®¢å•ç®¡ç† API

```
GET    /api/admin/order/list              # è®¢å•åˆ—è¡¨
GET    /api/admin/order/:id               # è®¢å•è¯¦æƒ…
POST   /api/admin/order/:id/delivery      # å‘è´§
POST   /api/admin/order/:id/refund        # é€€æ¬¾
GET    /api/admin/order/statistics/overview # ç»Ÿè®¡
```

## ğŸ—„ï¸ æ•°æ®åº“è¡¨è¯´æ˜

### æ ¸å¿ƒè¡¨ç»“æ„

| è¡¨å | è¯´æ˜ | ä¸»è¦å­—æ®µ |
|------|------|----------|
| `eb_user` | Appç”¨æˆ·è¡¨ | uid, nickname, phone, nowMoney, integral |
| `eb_store_product` | å•†å“è¡¨ | id, storeName, price, stock, sales |
| `eb_store_product_attr_value` | SKUè¡¨ | id, productId, suk, stock, price |
| `eb_store_order` | è®¢å•è¡¨ | id, orderId, uid, payPrice, status |
| `eb_store_order_info` | è®¢å•å•†å“è¯¦æƒ… | id, orderId, productId, payNum |
| `eb_category` | åˆ†ç±»è¡¨ | id, pid, name, type |

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### 1. ç®¡ç†Appç”¨æˆ·

1. è®¿é—® `/app-user` è·¯ç”±
2. æœç´¢ç”¨æˆ·ï¼ˆæ”¯æŒæ˜µç§°ã€æ‰‹æœºå·ã€å§“åï¼‰
3. ç­›é€‰ç”¨æˆ·ï¼ˆçŠ¶æ€ã€ç­‰çº§ï¼‰
4. è°ƒæ•´ä½™é¢/ç§¯åˆ†
5. å¯ç”¨/ç¦ç”¨ç”¨æˆ·

### 2. ç®¡ç†å•†å“

1. è®¿é—® `/product` è·¯ç”±
2. æŸ¥çœ‹å•†å“åˆ—è¡¨
3. ç­›é€‰å•†å“ï¼ˆåˆ†ç±»ã€çŠ¶æ€ï¼‰
4. ä¸Šæ¶/ä¸‹æ¶å•†å“
5. æ‰¹é‡æ“ä½œ

### 3. ç®¡ç†è®¢å•

1. è®¿é—® `/order` è·¯ç”±
2. åˆ‡æ¢TabæŸ¥çœ‹ä¸åŒçŠ¶æ€è®¢å•
3. ç­›é€‰è®¢å•ï¼ˆæ”¯ä»˜çŠ¶æ€ã€æ—¶é—´èŒƒå›´ï¼‰
4. å‘è´§æ“ä½œï¼ˆè¾“å…¥å¿«é€’ä¿¡æ¯ï¼‰
5. å¤„ç†é€€æ¬¾

## ğŸ” æµ‹è¯•æ•°æ®

ç³»ç»Ÿå½“å‰è¿æ¥çš„æ˜¯å·²æœ‰æ•°æ®åº“ï¼ŒåŒ…å«æµ‹è¯•æ•°æ®ï¼š

- **ç”¨æˆ·æ•°æ®**ï¼šå·²æœ‰å¤šä¸ªæµ‹è¯•ç”¨æˆ·
- **å•†å“æ•°æ®**ï¼šåŒ…å«å¤šç§åˆ†ç±»çš„å•†å“
- **è®¢å•æ•°æ®**ï¼šåŒ…å«å„ç§çŠ¶æ€çš„è®¢å•

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§

### Appç”¨æˆ·ç®¡ç†
- âœ… åˆ†é¡µåˆ—è¡¨å±•ç¤º
- âœ… å¤šæ¡ä»¶æœç´¢ç­›é€‰
- âœ… ä½™é¢/ç§¯åˆ†åœ¨çº¿è°ƒæ•´
- âœ… ç”¨æˆ·çŠ¶æ€ç®¡ç†
- âœ… æ ‡ç­¾åˆ†ç»„æ”¯æŒ

### å•†å“ç®¡ç†
- âœ… å•†å“CRUDæ“ä½œ
- âœ… åˆ†ç±»æ ‘å½¢ç®¡ç†
- âœ… SKUè§„æ ¼æ”¯æŒ
- âœ… æ‰¹é‡ä¸Šä¸‹æ¶
- âœ… åº“å­˜ç®¡ç†

### è®¢å•ç®¡ç†
- âœ… è®¢å•Tabåˆ‡æ¢
- âœ… å¿«é€’å‘è´§
- âœ… é€€æ¬¾å¤„ç†
- âœ… è®¢å•ç»Ÿè®¡
- âœ… å¤šç»´åº¦ç­›é€‰

## ğŸ› ï¸ å¼€å‘è°ƒè¯•

### æŸ¥çœ‹ Prisma Studio

```bash
cd apps/server
npx prisma studio
```

åœ¨æµè§ˆå™¨æ‰“å¼€ http://localhost:5555 å¯è§†åŒ–æŸ¥çœ‹å’Œç¼–è¾‘æ•°æ®åº“ã€‚

### æŸ¥çœ‹ API æ–‡æ¡£

ä½¿ç”¨ Postman/Insomnia å¯¼å…¥ä»¥ä¸‹æ¥å£è¿›è¡Œæµ‹è¯•ï¼š

**åŸºç¡€URLï¼š** http://localhost:3000/api

**è®¤è¯æ–¹å¼ï¼š** Bearer Tokenï¼ˆç™»å½•åè·å–ï¼‰

### çƒ­æ›´æ–°

- åç«¯ï¼šä¿å­˜æ–‡ä»¶åè‡ªåŠ¨é‡å¯ï¼ˆnodemonï¼‰
- å‰ç«¯ï¼šä¿å­˜æ–‡ä»¶åè‡ªåŠ¨åˆ·æ–°ï¼ˆVite HMRï¼‰

## âš ï¸ å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“è¿æ¥å¤±è´¥
- æ£€æŸ¥ MySQL æœåŠ¡æ˜¯å¦å¯åŠ¨
- éªŒè¯ `.env` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®
- ç¡®è®¤æ•°æ®åº“å·²åˆ›å»º

### 2. å‰ç«¯è¯·æ±‚å¤±è´¥
- ç¡®è®¤åç«¯æœåŠ¡å·²å¯åŠ¨
- æ£€æŸ¥å‰ç«¯ API åŸºç¡€è·¯å¾„é…ç½®
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### 3. ç™»å½•å¤±è´¥
- ä½¿ç”¨é»˜è®¤è´¦å·ï¼šadmin / 123456
- æ£€æŸ¥ `sys_user` è¡¨ä¸­æ˜¯å¦æœ‰ç®¡ç†å‘˜è´¦å·
- éªŒè¯ JWT é…ç½®

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å®Œæ•´å®æ–½æ–‡æ¡£](./ECOMMERCE_IMPLEMENTATION.md)
- [Prismaæ–‡æ¡£](https://www.prisma.io/docs/)
- [NestJSæ–‡æ¡£](https://docs.nestjs.com/)
- [Vue 3æ–‡æ¡£](https://cn.vuejs.org/)
- [Element Plusæ–‡æ¡£](https://element-plus.org/)

## ğŸ‰ å¼€å§‹ä½¿ç”¨

ç°åœ¨ä½ å·²ç»å®Œæˆäº†æ‰€æœ‰é…ç½®ï¼

è®¿é—® http://localhost:5173 å¼€å§‹ä½¿ç”¨ç”µå•†ç®¡ç†ç³»ç»Ÿ ğŸš€

---

**æç¤ºï¼š** é¦–æ¬¡ä½¿ç”¨å»ºè®®å…ˆç†Ÿæ‚‰å„ä¸ªåŠŸèƒ½æ¨¡å—çš„æ“ä½œæµç¨‹ï¼Œç„¶åå¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚è¿›è¡Œå®šåˆ¶å¼€å‘ã€‚


